/**
 * Angular directive to convert JSON into human readable table. Inspired by https://github.com/marianoguerra/json.human.js.
 * @version v1.2.4 - 2017-09-10
 * @link https://github.com/jeff-Lewis/jl-angular-json-human
 * @author Brian Park <yaru22@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

"use strict";angular.module("yaru22.jsonHuman",["yaru22.jsonHuman.tmpls"]).factory("RecursionHelper",["$compile",function(t){return{compile:function(e){var n,s=e.contents().remove();return function(e,a){n||(n=t(s)),n(e,function(t){a.append(t)});var r=e.json;e.isBoolean=_.isBoolean(r),e.isNumber=_.isNumber(r),e.isString=_.isString(r),e.isPrimitive=e.isBoolean||e.isNumber||e.isString,e.isObject=_.isPlainObject(r),e.isArray=_.isArray(r),e.isEmpty=_.isEmpty(r)}}}}]).directive("jsonHuman",function(){return{restrict:"A",scope:{data:"=jsonHuman"},templateUrl:"template/angular-json-human-root.tmpl",link:function(t){t.$watch("data",function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}t.json=e,t.isObject=_.isPlainObject(e),t.isArray=_.isArray(e)})}}}).directive("jsonHumanHelper",["RecursionHelper",function(t){return{restrict:"A",scope:{json:"=jsonHumanHelper"},templateUrl:"template/angular-json-human.tmpl",compile:function(e){return t.compile(e)}}}]),angular.module("yaru22.jsonHuman.tmpls",[]).run(["$templateCache",function(t){t.put("template/angular-json-human-root.tmpl","<table class=jh-root ng-class=\"{ 'jh-type-array': isArray, 'jh-type-object': isObject }\" json-human-helper=json></table>"),t.put("template/angular-json-human.tmpl","<span ng-if=isPrimitive ng-class=\"{ 'jh-type-bool': isBoolean, 'jh-type-number': isNumber, 'jh-type-string': isString, 'jh-type-array': isArray, 'jh-type-object': isObject }\">{{ json }} <span ng-if=\"isEmpty && isString\" class=jh-empty>(Empty String)</span> </span><span ng-if=\"isEmpty && isArray\" class=jh-empty>(Empty List)</span> <span ng-if=\"isEmpty && isObject\" class=jh-empty>(Empty Object)</span><table ng-if=\"!isEmpty && !isPrimitive\" ng-class=\"{ 'jh-type-array': isArray, 'jh-type-object': isObject }\"><tbody><tr ng-repeat=\"(key, val) in json track by $index\"><th class=jh-key ng-class=\"{ 'jh-array-key': isArray, 'jh-object-key': isObject }\">{{ key }}</th><td class=jh-value ng-class=\"{ 'jh-array-value': isArray, 'jh-object-value': isObject }\" json-human-helper=val></td></tr></tbody></table>")}]);